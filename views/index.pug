doctype html
head
    meta(charset='utf-8')
    title Socket.io
    style.
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font: 13px Helvetica, Arial; }
        .mess { background: #000; padding: 3px; position: fixed; bottom: 0; width: 100%; }
        input { border: 1px solid; padding: 10px; width: 90%; margin-right: .5%; }
        button { width: 9%; background: rgb(130, 224, 255); border: none; padding: 10px; }
        #chat_room { list-style-type: none; margin: 0; padding: 0; }
        #chat_room li { padding: 5px 10px; }
        #chat_room li:nth-child(odd) { background: #eee; }
section
    #change_username
        label(for='username')
        input#username(type='text' placeholder='your username')
        input#send_username(type='button' value='add username')
section#chat_room
section
    .mess
        input#message(placeholder='message' autocomplete='off')
        button#send_message Send
script(src='http://code.jquery.com/jquery-1.10.1.min.js')
script(src='/socket.io/socket.io.js')
script.
    $(function(){
        let socket = io.connect('http://localhost:3000/');
        let username  = $("#username");
        let send_username  = $("#send_username");
        let message = $("#message");
        let send_message  = $("#send_message");
        let chat_room = $("#chat_room");
        send_username.click(() => {
            console.log(username.val());
        socket.emit('change_username', {username: username.val()})
    });
        send_message.click(()=>{
            console.log(message.val());
        socket.emit('new_message', {message: message.val()})
    });
        socket.on('new_message', (data)=>{
            chat_room.append("<p class='message'>" + data.username + ': ' +data.message+ "</p>")
        })
    });
